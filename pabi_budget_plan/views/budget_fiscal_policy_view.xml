<?xml version="1.0" ?>
<openerp>
    <data>
        <record model="ir.ui.view" id="view_budget_fiscal_policy_form">
            <field name="name">view.budget.fiscal.policy.form</field>
            <field name="model">budget.fiscal.policy</field>
            <field name="arch" type="xml">
                <form string="Fiscal Budget Policy">
                    <header>
                        <button string="Confirm" name="button_confirm" states="draft" type="object" class="oe_highlight"/>
                        <button string="Cancel" name="button_cancel" states="draft,confirm" type="object" />
                        <button string="Set to Draft" name="button_draft" states="cancel" type="object" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,confirm,cancel"/>
                    </header>
                    <sheet>
	                    <div class="oe_title">
	                        <label for="name" class="oe_edit_only"/>
	                        <h1>
	                            <field name="name" />
	                        </h1>
	                    </div>
	                    <div class="oe_right oe_button_box" name="buttons">
	                    	<button name="prepare_fiscal_budget_policy" type="object" string="Generate Budget Policy Lines" />
	                    </div>
	                    <group>
	                    	<group>	
								<field name="planned_overall" />
		                        <field name="policy_overall" />
	                    	</group>
	                        <group>
	                        	<field name="date" />
	                            <field name="fiscalyear_id" />
	                            <label for="date_from" string="Duration" />
	                            <div>
	                                <field name="date_from" class="oe_inline" /> - 
	                                <field name="date_to" class="oe_inline" nolabel="1"/>
	                            </div>
	                        </group>
	                   </group>
	                   <group>
	                        <group string="Planned">
			                    <field name="planned_project_base"/>
			                    <field name="planned_unit_base"/>
			                    <field name="planned_personnel"/>
			                    <field name="planned_invest_asset"/>
			                    <field name="planned_invest_construction"/>
	                        </group>
	                        <group string="Policy">
			                    <field name="policy_project_base"/>
			                    <field name="policy_unit_base"/>
			                    <field name="policy_personnel"/>
			                    <field name="policy_invest_asset"/>
			                    <field name="policy_invest_construction"/>
	                        </group>
	                    </group>
	                    <notebook>
	                        <page string="Project Based">
	                            <field name="project_base_ids" colspan="4" nolabel="1" >
	                                <tree editable="bottom">
										<field name="program_id" />
										<field name="planned_amount" sum="Planned Amount" />
										<field name="policy_amount" sum="Policy Amount" />
	                                </tree>
	                            </field>
	                        </page>
	                        <page string="Unit Based">
	                            <field name="unit_base_ids" colspan="4" nolabel="1" >
	                                <tree editable="bottom">
										<field name="org_id" />
										<field name="planned_amount" sum="Planned Amount" />
										<field name="policy_amount" sum="Policy Amount" />
	                                </tree>
	                            </field>
	                        </page>
	                    </notebook>
	            	</sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="view_budget_fiscal_policy_tree">
            <field name="name">view.budget.fiscal.policy.tree</field>
            <field name="model">budget.fiscal.policy</field>
            <field name="arch" type="xml">
               <tree string="Fiscal Budget Policy">
                    <field name="name" />
                    <field name="fiscalyear_id"/>
                    <field name="planned_overall"/>
                    <field name="policy_overall"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="view_budget_fiscal_policy_search" model="ir.ui.view">
           <field name="name">view.budget.fiscal.policy_search</field>
           <field name="model">budget.fiscal.policy</field>
           <field name="arch" type="xml">
               <search string="Fiscal Budget Policy">
                    <field name="name" filter_domain="[('name','ilike',self)]" string="Fiscal Budget Policy"/>
                </search>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_budget_fiscal_policy_view">
            <field name="name">Fiscal Budget Policy</field>
            <field name="res_model">budget.fiscal.policy</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_budget_fiscal_policy_tree"/>
            <field name="search_view_id" ref="view_budget_fiscal_policy_search"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new fiscal budget policy.
              </p>
            </field>
        </record>
        <menuitem parent="menu_action_budget_policy"
            id="menu_budget_fiscal_policy_view"
            action="action_budget_fiscal_policy_view" sequence="5" />


		<!-- Budget Plan Analysis -->
		
        <record id="view_budget_plan_line_template_filter" model="ir.ui.view">
            <field name="name">budget.plan.line.template.filter</field>
            <field name="model">budget.plan.line.template</field>
            <field name="arch" type="xml">
                <search string="Search Budget Plan Analysis">
                    <group expand="0" string="Group By">
               		</group>
               </search>
            </field>
        </record>
            	
        <record model="ir.ui.view" id="view_budget_plan_line_template_tree">
            <field name="name">budget.plan.line.template.tree</field>
            <field name="model">budget.plan.line.template</field>
            <field name="arch" type="xml">
                <tree string="Budget Plan Analysis" create="0" delete="0" edit="0">

                	<field name="spa_id" invisible="1"/>
                	<field name="mission_id" invisible="1"/>
                	<field name="tag_type_id" invisible="1"/>
                	<field name="tag_id" invisible="1"/>
                	
                	<field name="functional_area_id" invisible="1"/>
                	<field name="program_group_id" invisible="1"/>
                	<field name="program_id" invisible="1"/>
                	<field name="project_group_id" invisible="1"/>
                	<field name="project_id" invisible="1"/>
                	
                    <field name="org_id" invisible="1"/>
                    <field name="sector_id" invisible="1"/>
                    <field name="subsector_id" invisible="1"/>
                    <field name="division_id" invisible="1"/>
                    <field name="section_id" invisible="1"/>
                    <field name="costcenter_id" invisible="1"/>
                    <field name="taxbranch_id" invisible="1"/>
                    
                    <field name="invest_asset_id" invisible="1"/>
                		
                    <field name="invest_construction_id" invisible="1"/>
                    <field name="invest_construction_phase_id" invisible="1"/>
            
                    <field name="personnel_costcenter_id" invisible="1"/>
                    
                    <field name="cost_control_type_id" invisible="1"/>
                    <field name="cost_control_id" invisible="1"/>
                    
                    <field name="chart_view" />
                    <field name="fiscalyear_id" />
					
					<field name="m0" sum="Period 0" />
					<field name="m1" sum="Period 1" />
					<field name="m2" sum="Period 2" />
					<field name="m3" sum="Period 3" />
					<field name="m4" sum="Period 4" />
					<field name="m5" sum="Period 5" />
					<field name="m6" sum="Period 6" />
					<field name="m7" sum="Period 7" />
					<field name="m8" sum="Period 8" />
					<field name="m9" sum="Period 9" />
					<field name="m10" sum="Period 10" />
					<field name="m11" sum="Period 11" />
					<field name="m12" sum="Period 12" />
					
					<field name="planned_amount" sum="Planned Amount" />

                </tree>
            </field>
        </record>
	    <record id="view_budget_plan_line_template_graph" model="ir.ui.view">
	         <field name="name">view.budget.plan.line.template.graph</field>
	         <field name="model">budget.plan.line.template</field>
	         <field name="arch" type="xml">
	             <graph string="Budget Plan Analysis" type="pivot">
	                <field name="org_id" type="col"/>
	                <field name="planned_amount" type="measure"/>
	             </graph>
	         </field>
	    </record>

        <record model="ir.actions.act_window" id="act_budget_plan_line_template_view">
            <field name="name">Budget Plan Analysis</field>
            <field name="res_model">budget.plan.line.template</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,graph</field>
            <field name="view_id" ref="view_budget_plan_line_template_tree"/>
        </record>

        <menuitem parent="menu_action_budget_policy"
            id="menu_act_budget_plan_line_template_view"
            action="act_budget_plan_line_template_view"
        	sequence="20"/>


    </data>
</openerp>


