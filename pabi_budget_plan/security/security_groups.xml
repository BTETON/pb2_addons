<?xml version="1.0" ?>
<openerp>
    <data>
        <record model="ir.module.category" id="module_category_account_budget">
            <field name="name">Budget Management</field>
            <field name="parent_id" ref="base.module_category_accounting_and_finance"/>
            <field name="sequence">10</field>
        </record>

        <record id="group_budget_user" model="res.groups">
            <field name="name">Budget User</field>
            <field name="users" eval="[(4, ref('base.user_root'))]"/>
            <field name="category_id" ref="module_category_account_budget"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/>
        </record>

        <record id="group_budget_manager" model="res.groups">
            <field name="name">Budget Manager</field>
            <field name="category_id" ref="module_category_account_budget"/>
            <field name="implied_ids" eval="[(4, ref('group_budget_user'))]"/>
        </record>

        <record id="group_operating_unit_budget" model="res.groups">
            <field name="name">Operating Unit Budget</field>
            <field name="category_id" ref="module_category_account_budget"/>
            <field name="implied_ids" eval="[(4, ref('group_budget_user'))]"/>
        </record>

        <record id="group_cooperate_budget" model="res.groups">
            <field name="name">Cooperate Budget</field>
            <field name="category_id" ref="module_category_account_budget"/>
            <field name="implied_ids" eval="[(4, ref('group_budget_user'))]"/>
        </record>

        <record id="property_rule_budget_plan_budget_user" model="ir.rule">
            <field name="name">Budget User - Budget Plan Access</field>
            <field name="model_id" ref="model_budget_plan_unit"/>
            <field name="domain_force">[('section_id.division_id','=',user.partner_id.employee_id.section_id.division_id)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_budget_user'))]"/>
        </record>
        <record id="property_rule_budget_plan_budget_manager" model="ir.rule">
            <field name="name">Budget Manager - Budget Plan Access</field>
            <field name="model_id" ref="model_budget_plan_unit"/>
            <field name="domain_force">[('section_id','=',user.partner_id.employee_id.section_id)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_budget_manager'))]"/>
        </record>
        <record id="property_rule_budget_plan_budget_org" model="ir.rule">
            <field name="name">Budget Org Manager - Budget Plan Access</field>
            <field name="model_id" ref="model_budget_plan_unit"/>
            <field name="domain_force">[('org_id','=',user.partner_id.employee_id.section_id.org_id)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_operating_unit_budget'))]"/>
        </record>
        <record id="property_rule_budget_plan_budget_cooperate" model="ir.rule">
            <field name="name">Budget Cooperate - Budget Plan Access</field>
            <field name="model_id" ref="model_budget_plan_unit"/>
            <field name="domain_force">[(1 ,'=',1)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_cooperate_budget'))]"/>
        </record>

        <record id="property_rule_budget_plan_budget_user_line" model="ir.rule">
            <field name="name">Budget User - Budget Plan Line Access</field>
            <field name="model_id" ref="model_budget_plan_unit_line"/>
            <field name="domain_force">[('section_id.division_id','=',user.partner_id.employee_id.section_id.division_id)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_budget_user'))]"/>
        </record>
        <record id="property_rule_budget_plan_budget_manager_line" model="ir.rule">
            <field name="name">Budget Manager - Budget Plan Line Access</field>
            <field name="model_id" ref="model_budget_plan_unit_line"/>
            <field name="domain_force">[('section_id','=',user.partner_id.employee_id.section_id)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_budget_manager'))]"/>
        </record>
        <record id="property_rule_budget_plan_budget_org_line" model="ir.rule">
            <field name="name">Budget Org Manager - Budget Plan Line Access</field>
            <field name="model_id" ref="model_budget_plan_unit_line"/>
            <field name="domain_force">[('org_id','=',user.partner_id.employee_id.section_id.org_id)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_operating_unit_budget'))]"/>
        </record>
        <record id="property_rule_budget_plan_budget_cooperate_line" model="ir.rule">
            <field name="name">Budget Cooperate - Budget Plan Line Access</field>
            <field name="model_id" ref="model_budget_plan_unit_line"/>
            <field name="domain_force">[(1 ,'=',1)]</field>
            <field name="groups" eval="[(4,ref('pabi_budget_plan.group_cooperate_budget'))]"/>
        </record>

    </data>
</openerp>
