<?xml version="1.0" encoding="utf-8"?>

<openerp>
	<data>
		<!-- Expenses -->
        <record id="view_expenses_form" model="ir.ui.view">
            <field name="name">hr.expense.form</field>
            <field name="model">hr.expense.expense</field>
            <field name="inherit_id" ref="hr_expense.view_expenses_form"/>
            <field name="arch" type="xml">
				<field name="date" position="after">
					<field name="apweb_ref_url" widget="url" /><!-- TODO: attrs="{'invisible': [('apweb_ref_url', '=', False)]}" -->
		    	</field>
				<field name="currency_id" position="after">
					<field name="is_employee_advance" /><!-- TODO: attrs="{'invisible': [('is_employee_advance', '=', False)]}" -->
					<field name="advance_expense_id" /><!-- TODO: attrs="{'invisible': [('advance_expense_id', '=', False)]}" -->
		    	</field>
            </field>
        </record>

        <record id="hr_expense.expense_all" model="ir.actions.act_window">
            <field name="domain">[('is_employee_advance', '=', False)]</field>
            <field name="context">{'is_employee_advance': False}</field>
		</record>

        <!-- Employee Advance -->
        <record id="action_employee_advance" model="ir.actions.act_window">
            <field name="name">Employee's Advance</field>
            <field name="res_model">hr.expense.expense</field>
            <field name="view_type">form</field>
            <field name="search_view_id" ref="hr_expense.view_hr_expense_filter"/>
            <field name="view_id" ref="hr_expense.view_expenses_tree"/>
            <field name="domain">[('is_employee_advance', '=', True)]</field>
            <field name="context">{'is_employee_advance': True}</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to register new employee advance. 
              </p>
            </field>
        </record>

        <menuitem action="action_employee_advance" id="menu_employee_advance" name="Employee's Advance" parent="hr_expense.next_id_49" sequence="50"/>
        
		<!-- Expense Regulations -->
        <record id="view_hr_expense_rule_tree" model="ir.ui.view">
            <field name="name">view.hr.expense.rule.tree</field>
            <field name="model">hr.expense.rule</field>
            <field name="arch" type="xml">
                <tree string="Expense Regulations" editable="bottom">
                    <field name="activity_id"/>
                    <field name="position"/>
                    <field name="condition_1"/>
                    <field name="condition_2"/>
                    <field name="uom"/>
                    <field name="amount"/>
                </tree>
            </field>
        </record>

        <record id="hr_expense_rule" model="ir.actions.act_window">
            <field name="name">Expense Regulations</field>
            <field name="res_model">hr.expense.rule</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to create a new expense regulations. 
             </p>
            </field>
        </record>

        <menuitem id="menu_hr_expense_rule" name="Expense Regulations" parent="hr.menu_hr_configuration" action="hr_expense_rule" sequence="50"/>
		
		
	</data>
</openerp>
