<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="vat_report" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="period_id" class="java.lang.Integer"/>
	<parameter name="tax_code_id" class="java.lang.Integer"/>
	<parameter name="tax_id" class="java.lang.Integer"/>
	<parameter name="tax_type" class="java.lang.String"/>
	<parameter name="company_id" class="java.lang.Integer"/>
	<parameter name="company_name" class="java.lang.String"/>
	<parameter name="month" class="java.lang.Integer"/>
	<parameter name="company_vat" class="java.lang.String"/>
	<parameter name="year" class="java.lang.Integer"/>
	<queryString>
		<![CDATA[SELECT
atd.base as base,
atd.amount as amount,
atd.invoice_date as invoice_date,
atd.invoice_number as invoice_number,
atd.tax_sequence_display as tax_sequence_display,
atd.period_id as period_id,
p.name as partner_name,
p.vat as tax_id,
p.taxbranch as taxbranch
FROM account_tax_detail as atd
LEFT JOIN res_partner p ON
    (atd.partner_id = p.id)
WHERE atd.period_id = $P{period_id} AND atd.tax_id = $P{tax_id}]]>
	</queryString>
	<field name="tax_sequence_display" class="java.lang.String"/>
	<field name="invoice_number" class="java.lang.String"/>
	<field name="invoice_date" class="java.util.Date"/>
	<field name="partner_name" class="java.lang.String"/>
	<field name="tax_id" class="java.lang.String"/>
	<field name="base" class="java.lang.Number"/>
	<field name="amount" class="java.lang.Number"/>
	<title>
		<band height="46" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="555" height="46"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="16" isBold="true" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{tax_type}.toString() == "all" ? "ขาย / ซื้อ" : ""]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="555" height="46"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="16" isBold="true" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{tax_type}.toString() == "purchase" ? "ซื้อ" : ""]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="0" y="0" width="555" height="46"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="16" isBold="true" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{tax_type}.toString() == "sale" ? "การขาย" : ""]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="119">
			<printWhenExpression><![CDATA[$V{PAGE_NUMBER}==1]]></printWhenExpression>
			<staticText>
				<reportElement x="0" y="47" width="47" height="15"/>
				<textElement verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[สาขา :]]></text>
			</staticText>
			<staticText>
				<reportElement x="-1" y="4" width="47" height="15"/>
				<textElement verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[เดือน :]]></text>
			</staticText>
			<staticText>
				<reportElement x="323" y="25" width="153" height="16"/>
				<textElement verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[เลขประจำตัวผู้เสียภาษี :]]></text>
			</staticText>
			<line>
				<reportElement x="78" y="41" width="124" height="1"/>
			</line>
			<line>
				<reportElement x="78" y="63" width="129" height="1"/>
			</line>
			<line>
				<reportElement x="429" y="62" width="119" height="1"/>
			</line>
			<line>
				<reportElement x="429" y="41" width="119" height="1"/>
			</line>
			<textField isBlankWhenNull="true">
				<reportElement x="46" y="4" width="100" height="15"/>
				<textElement>
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$P{month}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="376" y="4" width="100" height="15"/>
				<textElement>
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$P{year}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="78" y="26" width="123" height="15"/>
				<textElement>
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{company_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="429" y="26" width="119" height="15"/>
				<textElement>
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{company_vat}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="323" y="4" width="53" height="15"/>
				<textElement verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ปีภาษี :]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="27" width="109" height="15"/>
				<textElement verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ชื่อผู้ประกอบการ :]]></text>
			</staticText>
			<staticText>
				<reportElement x="323" y="49" width="67" height="15"/>
				<textElement verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รหัสสาขา :]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="41">
			<rectangle>
				<reportElement x="47" y="0" width="154" height="20"/>
			</rectangle>
			<staticText>
				<reportElement x="47" y="2" width="154" height="15"/>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ใบกำกับภาษี]]></text>
			</staticText>
			<rectangle>
				<reportElement x="47" y="20" width="73" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement x="301" y="0" width="100" height="40"/>
			</rectangle>
			<rectangle>
				<reportElement x="201" y="0" width="100" height="40"/>
			</rectangle>
			<rectangle>
				<reportElement x="493" y="0" width="62" height="40"/>
			</rectangle>
			<staticText>
				<reportElement mode="Transparent" x="201" y="7" width="100" height="27" backcolor="#C54A4A"/>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ผู้ซื้อสินค้า
/ผู้รับบริการ]]></text>
			</staticText>
			<rectangle>
				<reportElement x="120" y="20" width="81" height="20"/>
			</rectangle>
			<rectangle>
				<reportElement x="399" y="0" width="32" height="40"/>
			</rectangle>
			<rectangle>
				<reportElement x="0" y="0" width="47" height="40"/>
			</rectangle>
			<staticText>
				<reportElement x="314" y="6" width="75" height="33"/>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[เลขประจำตัวผู้เสียภาษี]]></text>
			</staticText>
			<rectangle>
				<reportElement x="431" y="0" width="62" height="40"/>
			</rectangle>
			<staticText>
				<reportElement x="47" y="20" width="73" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[วันที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="399" y="5" width="30" height="31"/>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รหัสสาขา]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="14" width="30" height="20"/>
				<textElement textAlignment="Center"/>
				<text><![CDATA[     #]]></text>
			</staticText>
			<staticText>
				<reportElement x="121" y="20" width="81" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[เลขที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="496" y="5" width="52" height="31"/>
				<textElement verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[จำนวนเงินภาษีมูลค่าเพิ่ม]]></text>
			</staticText>
			<staticText>
				<reportElement x="431" y="5" width="52" height="34"/>
				<textElement textAlignment="Center" verticalAlignment="Top" lineSpacing="Single" markup="none">
					<font fontName="Monospaced" size="10" isBold="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[มูลค่าสินค้าหรือบริการ]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="21">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="0" y="0" width="47" height="20"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{tax_sequence_display}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="47" y="0" width="73" height="20"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{invoice_number}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="121" y="0" width="80" height="20"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{invoice_date}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="202" y="0" width="100" height="20"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{partner_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="302" y="0" width="97" height="20"/>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{tax_id}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="431" y="0" width="62" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{base}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement isPrintRepeatedValues="false" x="493" y="0" width="62" height="20"/>
				<textElement textAlignment="Right" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="Monospaced" size="10" isBold="false" isStrikeThrough="false" pdfFontName="Garuda.ttf" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{amount}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement positionType="FixRelativeToBottom" x="0" y="20" width="555" height="1"/>
				<graphicElement>
					<pen lineColor="#909090"/>
				</graphicElement>
			</line>
		</band>
	</detail>
</jasperReport>
